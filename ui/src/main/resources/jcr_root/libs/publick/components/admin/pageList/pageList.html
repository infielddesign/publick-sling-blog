<div data-ng-controller="newPageController" data-sly-use.page="com.nateyolles.sling.publick.components.admin.PageEdit" data-sly-unwrap></div>
<div data-sly-use.pageconf="com.nateyolles.sling.publick.components.admin.PageConfigurationEdit" data-sly-unwrap></div>
<div data-sly-use.config="com.nateyolles.sling.publick.components.admin.DispatcherConfig" data-sly-unwrap></div>
<div data-ng-controller="PageListController" data-sly-use.list="com.nateyolles.sling.publick.components.admin.PageList">

    <input type="hidden" name="dispatcherHost" data-ng-model="model.dispatcherHost" data-ng-init="model.dispatcherHost = '${config.dispatcherHost}'">
    <input type="hidden" name="dispatcherInvalidateCacheUri" data-ng-model="model.dispatcherInvalidateCacheUri" data-ng-init="model.dispatcherInvalidateCacheUri = '${config.dispatcherInvalidateCacheUri}'">

    <div class="row">
        <div class="col-lg-3 col-md-4 scollable-x bottom-buffer">
            <div style="color: #337ab7;" id="clbk" class="demo"></div>
        </div>

        
        <div class="col-lg-9 col-md-8 bottom-buffer">
            <div class="row" data-ng-show="pageList" ng-cloak>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Subpages</th>
                            <th class="column-extra-small"></th>
                            <th class="column-small">Edit</th>
                        </tr>
                    </thead>
                    <tbody data-ng-repeat="list in pageList">
                        <tr>
                            <td><a href="{{prefix_path_child}}{{list.text}}.html" target="_blank" title="Open page">{{list.pageTitle || "// No SEO title available" }}</a> <span class="text-muted pagelist-muted">{{prefix_path_child}}{{list.text}}.html</span></td>
                            <td><i class="glyphicon" data-ng-class="list.visible ? 'glyphicon-eye-open' : 'glyphicon-eye-close'"></i></i></td>
                            <td><a href="edit.html?post=PLACEHOLDER"><i class="glyphicon glyphicon-pencil"></i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div><!-- // END row -->

            <div class="row" data-ng-show="pageContent" ng-cloak>
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Page Preview</th>
                            <th class="column-extra-small"></th>
                            <th class="column-small">Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><a href="{{prefix_path}}{{pageContent.selectedNode}}.html" target="_blank" title="Open page">
                                    {{pageContent.pageTitle || "// No SEO title available" }}
                                </a>
                                <span class="text-muted pagelist-muted">{{prefix_path}}{{pageContent.selectedNode}}.html</span>
                            </td>
                            <td><i class="glyphicon" data-ng-class="${pageContent.visible} ? 'glyphicon-eye-open' : 'glyphicon-eye-close'"></i></i></td>
                            <td><a href="edit.html?post=PLACEHOLDER"><i class="glyphicon glyphicon-pencil"></i></a></td>
                        </tr>
                        <tr>
                            <td colspan="3" data-ng-show="pageContent.description">
                                {{pageContent.description | limitTo: 450}}{{pageContent.description.length > 450 ? ' ...' : ''}}
                            </td>
                            <td colspan="3" data-ng-show="!pageContent.description && pageContent.content">
                                {{pageContent.content | limitTo: 450}}{{pageContent.content.length > 450 ? ' ...' : ''}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div><!-- // END row -->
        </div><!-- // END col -->


    </div><!-- // END row -->
</div>

<script type="text/ng-template" id="templateId">

</script>